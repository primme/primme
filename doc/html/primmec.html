

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>C Library Interface &mdash; PRIMME 3.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FORTRAN 77 Library Interface" href="primmef77.html" />
    <link rel="prev" title="Eigenvalue Problems" href="apieigs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="readme.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">PRIMME: PReconditioned Iterative MultiMethod Eigensolver</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html#support">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="apieigs.html">Eigenvalue Problems</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">C Library Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running">Running</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-guide">Parameters Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interface-description">Interface Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#primme">?primme</a></li>
<li class="toctree-l4"><a class="reference internal" href="#magma-primme"><cite>magma_?primme</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-normal">?primme_normal</a></li>
<li class="toctree-l4"><a class="reference internal" href="#magma-primme-normal"><cite>magma_?primme_normal</cite></a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-initialize">primme_initialize</a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-params-create">primme_params_create</a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-set-method">primme_set_method</a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-display-params">primme_display_params</a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-free">primme_free</a></li>
<li class="toctree-l4"><a class="reference internal" href="#primme-params-destroy">primme_params_destroy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="primmef77.html">FORTRAN 77 Library Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="primmef90.html">FORTRAN 90 Library Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyeigsh.html">Python Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="mateigs.html">MATLAB Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html">Parameters Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#preset-methods">Preset Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#error-codes">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apisvds.html">Singular Value Problems</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="readme.html">PRIMME</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="readme.html">Docs</a> &raquo;</li>
        
          <li><a href="apieigs.html">Eigenvalue Problems</a> &raquo;</li>
        
      <li>C Library Interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/primmec.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="primmef77.html" class="btn btn-neutral float-right" title="FORTRAN 77 Library Interface" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apieigs.html" class="btn btn-neutral float-left" title="Eigenvalue Problems" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="c-library-interface">
<h1>C Library Interface<a class="headerlink" href="#c-library-interface" title="Permalink to this headline">¶</a></h1>
<p>The PRIMME interface is composed of the following functions.
To solve real symmetric and complex Hermitian problems, standard <span class="math notranslate nohighlight">\(A x = \lambda x\)</span> and generalized <span class="math notranslate nohighlight">\(A x = \lambda B x\)</span>, call:</p>
<pre class="literal-block">
int <a class="reference internal" href="#c.dprimme" title="dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">dprimme</span></code></a> (double *evals, double *evecs, double *resNorms,
                        primme_params *primme)
int <a class="reference internal" href="#c.zprimme" title="zprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">zprimme</span></code></a> (double *evals, PRIMME_COMPLEX_DOUBLE *evecs,
                 double *resNorms, primme_params *primme)
</pre>
<p>There are more versions for matrix problems working in other precisions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="39%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Precision</th>
<th class="head">Real</th>
<th class="head">Complex</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>half</td>
<td><a class="reference internal" href="#c.hprimme" title="hprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">hprimme()</span></code></a>
<a class="reference internal" href="#c.hsprimme" title="hsprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">hsprimme()</span></code></a></td>
<td><a class="reference internal" href="#c.kprimme" title="kprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">kprimme()</span></code></a>
<a class="reference internal" href="#c.ksprimme" title="ksprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">ksprimme()</span></code></a></td>
</tr>
<tr class="row-odd"><td>single</td>
<td><a class="reference internal" href="#c.sprimme" title="sprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">sprimme()</span></code></a></td>
<td><a class="reference internal" href="#c.cprimme" title="cprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">cprimme()</span></code></a></td>
</tr>
<tr class="row-even"><td>double</td>
<td><a class="reference internal" href="#c.dprimme" title="dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">dprimme()</span></code></a></td>
<td><a class="reference internal" href="#c.zprimme" title="zprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">zprimme()</span></code></a></td>
</tr>
</tbody>
</table>
<p>To solve standard eigenproblems with normal but not necessarily Hermitian matrices call:</p>
<pre class="literal-block">
int <a class="reference internal" href="#c.zprimme_normal" title="zprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">zprimme_normal</span></code></a> (PRIMME_COMPLEX_DOUBLE *evals,
                 PRIMME_COMPLEX_DOUBLE *evecs,
                 double *resNorms, primme_params *primme)
</pre>
<p>There are more versions for matrix problems working in other precisions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Precision</th>
<th class="head">Complex</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>half</td>
<td><a class="reference internal" href="#c.kprimme_normal" title="kprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">kprimme_normal()</span></code></a>
<a class="reference internal" href="#c.kcprimme_normal" title="kcprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">kcprimme_normal()</span></code></a></td>
</tr>
<tr class="row-odd"><td>single</td>
<td><a class="reference internal" href="#c.cprimme_normal" title="cprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">cprimme_normal()</span></code></a></td>
</tr>
<tr class="row-even"><td>double</td>
<td><a class="reference internal" href="#c.zprimme_normal" title="zprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">zprimme_normal()</span></code></a></td>
</tr>
</tbody>
</table>
<p>Other useful functions:</p>
<pre class="literal-block">
void <a class="reference internal" href="#c.primme_initialize" title="primme_initialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_initialize</span></code></a> (primme_params *primme)
int <a class="reference internal" href="#c.primme_set_method" title="primme_set_method"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_set_method</span></code></a> (primme_preset_method method,
                                                     primme_params *params)
void <a class="reference internal" href="#c.primme_display_params" title="primme_display_params"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_display_params</span></code></a> (primme_params primme)
void <code class="xref c c-func docutils literal notranslate"><span class="pre">primme_free</span></code> (primme_params *primme)
</pre>
<p>PRIMME stores its data on the structure <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">primme_params</span></code></a>.
See <a class="reference internal" href="#guide-params"><span class="std std-ref">Parameters Guide</span></a> for an introduction about its fields.</p>
<div class="section" id="running">
<h2>Running<a class="headerlink" href="#running" title="Permalink to this headline">¶</a></h2>
<p>To use PRIMME, follow these basic steps.</p>
<ol class="arabic">
<li><p class="first">Include:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;primme.h&quot;   /* header file is required to run primme */</span><span class="cp"></span>
</pre></div>
</div>
</li>
<li><p class="first">Initialize a PRIMME parameters structure for default settings:</p>
<pre class="literal-block">
<a class="reference internal" href="appendix.html#c.primme_params" title="primme_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">primme_params</span></code></a> primme;
<a class="reference internal" href="#c.primme_initialize" title="primme_initialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_initialize</span></code></a> (&amp;primme);
</pre>
</li>
<li><p class="first">Set problem parameters (see also <a class="reference internal" href="#guide-params"><span class="std std-ref">Parameters Guide</span></a>), and,
optionally, set one of the <a class="reference internal" href="appendix.html#c.primme_preset_method" title="primme_preset_method"><code class="xref c c-type docutils literal notranslate"><span class="pre">preset</span> <span class="pre">methods</span></code></a>:</p>
<pre class="literal-block">
primme.<a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a> = LaplacianMatrixMatvec; /* MV product */
primme.<a class="reference internal" href="appendix.html#c.primme_params.n" title="primme_params.n"><code class="xref c c-member docutils literal notranslate"><span class="pre">n</span></code></a> = 100;                   /* set problem dimension */
primme.<a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> = 10;       /* Number of wanted eigenpairs */
ret = <a class="reference internal" href="#c.primme_set_method" title="primme_set_method"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_set_method</span></code></a> (method, &amp;primme);
...
</pre>
</li>
<li><p class="first">Then call the solver:</p>
<pre class="literal-block">
ret = <a class="reference internal" href="#c.dprimme" title="dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">dprimme</span></code></a> (evals, evecs, resNorms, &amp;primme);
</pre>
<p>The call arguments are:</p>
<ul class="simple">
<li><cite>evals</cite>, array to return the found eigenvalues;</li>
<li><cite>evecs</cite>, array to return the found eigenvectors;</li>
<li><cite>resNorms</cite>, array to return the residual norms of the found eigenpairs; and</li>
<li><cite>ret</cite>, returned error code.</li>
</ul>
</li>
<li><p class="first">To free the work arrays in PRIMME:</p>
<pre class="literal-block">
<code class="xref c c-func docutils literal notranslate"><span class="pre">primme_free</span></code> (&amp;primme);
</pre>
</li>
</ol>
<p>See usage examples at the directory <cite>examples</cite>.</p>
</div>
<div class="section" id="parameters-guide">
<span id="guide-params"></span><h2>Parameters Guide<a class="headerlink" href="#parameters-guide" title="Permalink to this headline">¶</a></h2>
<p>PRIMME stores the data on the structure <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">primme_params</span></code></a>, which has the next fields:</p>
<div class="line-block">
<div class="line"><em>Basic</em></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.n" title="primme_params.n"><code class="xref c c-member docutils literal notranslate"><span class="pre">n</span></code></a>,  matrix dimension.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, matrix-vector product.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.massMatrixMatvec" title="primme_params.massMatrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrixMatvec</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, mass matrix-vector product (null for standard problems).</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a>, how many eigenpairs to find.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_target</span></code> <a class="reference internal" href="appendix.html#c.primme_params.target" title="primme_params.target"><code class="xref c c-member docutils literal notranslate"><span class="pre">target</span></code></a>, which eigenvalues to find.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.numTargetShifts" title="primme_params.numTargetShifts"><code class="xref c c-member docutils literal notranslate"><span class="pre">numTargetShifts</span></code></a>, for targeting interior eigenpairs.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.targetShifts" title="primme_params.targetShifts"><code class="xref c c-member docutils literal notranslate"><span class="pre">targetShifts</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">double</span></code> <a class="reference internal" href="appendix.html#c.primme_params.eps" title="primme_params.eps"><code class="xref c c-member docutils literal notranslate"><span class="pre">eps</span></code></a>, tolerance of the residual norm of converged eigenpairs.</div>
<div class="line"><br /></div>
<div class="line"><em>For parallel programs</em></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.numProcs" title="primme_params.numProcs"><code class="xref c c-member docutils literal notranslate"><span class="pre">numProcs</span></code></a>, number of processes</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.procID" title="primme_params.procID"><code class="xref c c-member docutils literal notranslate"><span class="pre">procID</span></code></a>,  rank of this process</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.nLocal" title="primme_params.nLocal"><code class="xref c c-member docutils literal notranslate"><span class="pre">nLocal</span></code></a>,  number of rows stored in this process</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal" title="primme_params.globalSumReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, sum reduction among processes</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.broadcastReal" title="primme_params.broadcastReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">broadcastReal</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, broadcast array among processes</div>
<div class="line"><br /></div>
<div class="line"><em>Accelerate the convergence</em></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner" title="primme_params.applyPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, preconditioner-vector product.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.initSize" title="primme_params.initSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">initSize</span></code></a>, initial vectors as approximate solutions.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.maxBasisSize" title="primme_params.maxBasisSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">maxBasisSize</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.minRestartSize" title="primme_params.minRestartSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">minRestartSize</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.maxBlockSize" title="primme_params.maxBlockSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">maxBlockSize</span></code></a></div>
<div class="line"><br /></div>
<div class="line"><em>User data</em></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.commInfo" title="primme_params.commInfo"><code class="xref c c-member docutils literal notranslate"><span class="pre">commInfo</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.matrix" title="primme_params.matrix"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrix</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.massMatrix" title="primme_params.massMatrix"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrix</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.preconditioner" title="primme_params.preconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">preconditioner</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.convtest" title="primme_params.convtest"><code class="xref c c-member docutils literal notranslate"><span class="pre">convtest</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.monitor" title="primme_params.monitor"><code class="xref c c-member docutils literal notranslate"><span class="pre">monitor</span></code></a></div>
<div class="line"><br /></div>
<div class="line"><em>Advanced options</em></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a>, leading dimension of the evecs.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a>, orthogonal constrains to the eigenvectors.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.dynamicMethodSwitch" title="primme_params.dynamicMethodSwitch"><code class="xref c c-member docutils literal notranslate"><span class="pre">dynamicMethodSwitch</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.locking" title="primme_params.locking"><code class="xref c c-member docutils literal notranslate"><span class="pre">locking</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.maxMatvecs" title="primme_params.maxMatvecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">maxMatvecs</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.maxOuterIterations" title="primme_params.maxOuterIterations"><code class="xref c c-member docutils literal notranslate"><span class="pre">maxOuterIterations</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.iseed" title="primme_params.iseed"><code class="xref c c-member docutils literal notranslate"><span class="pre">iseed</span></code></a> <code class="docutils literal notranslate"><span class="pre">[4]</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">double</span></code> <a class="reference internal" href="appendix.html#c.primme_params.aNorm" title="primme_params.aNorm"><code class="xref c c-member docutils literal notranslate"><span class="pre">aNorm</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">double</span></code> <a class="reference internal" href="appendix.html#c.primme_params.BNorm" title="primme_params.BNorm"><code class="xref c c-member docutils literal notranslate"><span class="pre">BNorm</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">double</span></code> <a class="reference internal" href="appendix.html#c.primme_params.invBNorm" title="primme_params.invBNorm"><code class="xref c c-member docutils literal notranslate"><span class="pre">invBNorm</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">int</span></code> <a class="reference internal" href="appendix.html#c.primme_params.printLevel" title="primme_params.printLevel"><code class="xref c c-member docutils literal notranslate"><span class="pre">printLevel</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">FILE</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.outputFile" title="primme_params.outputFile"><code class="xref c c-member docutils literal notranslate"><span class="pre">outputFile</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.ShiftsForPreconditioner" title="primme_params.ShiftsForPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">ShiftsForPreconditioner</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_init</span></code> <a class="reference internal" href="appendix.html#c.primme_params.initBasisMode" title="primme_params.initBasisMode"><code class="xref c c-member docutils literal notranslate"><span class="pre">initBasisMode</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">projection_params</span></code> <a class="reference internal" href="appendix.html#c.primme_params.projectionParams.projection" title="primme_params.projectionParams.projection"><code class="xref c c-member docutils literal notranslate"><span class="pre">projectionParams</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">restarting_params</span></code> <code class="xref c c-member docutils literal notranslate"><span class="pre">restartingParams</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">correction_params</span></code> <a class="reference internal" href="appendix.html#c.primme_params.correctionParams.precondition" title="primme_params.correctionParams.precondition"><code class="xref c c-member docutils literal notranslate"><span class="pre">correctionParams</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">primme_stats</span></code> <a class="reference internal" href="appendix.html#c.primme_params.stats.numOuterIterations" title="primme_params.stats.numOuterIterations"><code class="xref c c-member docutils literal notranslate"><span class="pre">stats</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.convTestFun" title="primme_params.convTestFun"><code class="xref c c-member docutils literal notranslate"><span class="pre">convTestFun</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, custom convergence criterion.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">PRIMME_INT</span></code> <a class="reference internal" href="appendix.html#c.primme_params.ldOPs" title="primme_params.ldOPs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldOPs</span></code></a>, leading dimension to use in <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a>.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">(*</span></code> <a class="reference internal" href="appendix.html#c.primme_params.monitorFun" title="primme_params.monitorFun"><code class="xref c c-member docutils literal notranslate"><span class="pre">monitorFun</span></code></a> <code class="docutils literal notranslate"><span class="pre">)(...)</span></code>, custom convergence history.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_op_datatype</span></code> <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec_type" title="primme_params.matrixMatvec_type"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec_type</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_op_datatype</span></code> <a class="reference internal" href="appendix.html#c.primme_params.massMatrixMatvec_type" title="primme_params.massMatrixMatvec_type"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrixMatvec_type</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_op_datatype</span></code> <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner_type" title="primme_params.applyPreconditioner_type"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner_type</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_op_datatype</span></code> <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal_type" title="primme_params.globalSumReal_type"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal_type</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_op_datatype</span></code> <a class="reference internal" href="appendix.html#c.primme_params.broadcastReal_type" title="primme_params.broadcastReal_type"><code class="xref c c-member docutils literal notranslate"><span class="pre">broadcastReal_type</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_op_datatype</span></code> <a class="reference internal" href="appendix.html#c.primme_params.internalPrecision" title="primme_params.internalPrecision"><code class="xref c c-member docutils literal notranslate"><span class="pre">internalPrecision</span></code></a></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">primme_orth</span></code> <a class="reference internal" href="appendix.html#c.primme_params.orth" title="primme_params.orth"><code class="xref c c-member docutils literal notranslate"><span class="pre">orth</span></code></a></div>
</div>
<p>PRIMME requires the user to set at least the dimension of the matrix (<a class="reference internal" href="appendix.html#c.primme_params.n" title="primme_params.n"><code class="xref c c-member docutils literal notranslate"><span class="pre">n</span></code></a>) and
the matrix-vector product (<a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a>), as they define the problem to be solved.
For parallel programs, <a class="reference internal" href="appendix.html#c.primme_params.nLocal" title="primme_params.nLocal"><code class="xref c c-member docutils literal notranslate"><span class="pre">nLocal</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.procID" title="primme_params.procID"><code class="xref c c-member docutils literal notranslate"><span class="pre">procID</span></code></a> and <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal" title="primme_params.globalSumReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal</span></code></a> are also required.</p>
<p>In addition, most users would want to specify how many eigenpairs to find,
<a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a>, and provide a preconditioner <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner" title="primme_params.applyPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner</span></code></a> (if available).</p>
<p>It is useful to have set all these before calling <a class="reference internal" href="#c.primme_set_method" title="primme_set_method"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_set_method()</span></code></a>.
Also, if users have a preference on <a class="reference internal" href="appendix.html#c.primme_params.maxBasisSize" title="primme_params.maxBasisSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">maxBasisSize</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.maxBlockSize" title="primme_params.maxBlockSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">maxBlockSize</span></code></a>, etc, they
should also provide them into <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">primme_params</span></code></a> prior to the
<a class="reference internal" href="#c.primme_set_method" title="primme_set_method"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_set_method()</span></code></a> call. This helps <a class="reference internal" href="#c.primme_set_method" title="primme_set_method"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_set_method()</span></code></a> make
the right choice on other parameters. It is sometimes useful to check the actual
parameters that PRIMME is going to use (before calling it) or used (on return)
by printing them with <a class="reference internal" href="#c.primme_display_params" title="primme_display_params"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_display_params()</span></code></a>.</p>
</div>
<div class="section" id="interface-description">
<h2>Interface Description<a class="headerlink" href="#interface-description" title="Permalink to this headline">¶</a></h2>
<p>The next enumerations and functions are declared in <code class="docutils literal notranslate"><span class="pre">primme.h</span></code>.</p>
<div class="section" id="primme">
<h3>?primme<a class="headerlink" href="#primme" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.hprimme">
int <code class="descname">hprimme</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evecs</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.hprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.hsprimme">
int <code class="descname">hsprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.hsprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.kprimme">
int <code class="descname">kprimme</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.ksprimme">
int <code class="descname">ksprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.ksprimme" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.sprimme">
int <code class="descname">sprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, float<em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.sprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.cprimme">
int <code class="descname">cprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.cprimme" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 2.0.</span></p>
</div>
</dd></dl>

<dl class="function">
<dt id="c.dprimme">
int <code class="descname">dprimme</code><span class="sig-paren">(</span>double<em>&nbsp;*evals</em>, double<em>&nbsp;*evecs</em>, double<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.dprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.zprimme">
int <code class="descname">zprimme</code><span class="sig-paren">(</span>double<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_DOUBLE" title="PRIMME_COMPLEX_DOUBLE">PRIMME_COMPLEX_DOUBLE</a><em>&nbsp;*evecs</em>, double<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.zprimme" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve a real symmetric/Hermitian standard or generalized eigenproblem.</p>
<p>All arrays should be hosted on CPU. The computations are performed on CPU (see <a class="reference internal" href="#c.magma_dprimme" title="magma_dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">magma_dprimme()</span></code></a> for using GPUs).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>evals</strong> – array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
computed eigenvalues; all processes in a parallel run return this local array with the same values.</li>
<li><strong>evecs</strong> – array at least of size <a class="reference internal" href="appendix.html#c.primme_params.nLocal" title="primme_params.nLocal"><code class="xref c c-member docutils literal notranslate"><span class="pre">nLocal</span></code></a> times (<a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a>) with leading dimension <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a>
to store column-wise the (local part for this process of the) computed eigenvectors.</li>
<li><strong>resNorms</strong> – array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
residual norms of the computed eigenpairs; all processes in parallel run return this local array with
the same values.</li>
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">error indicator; see <a class="reference internal" href="appendix.html#error-codes"><span class="std std-ref">Error Codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<p>On input, <code class="docutils literal notranslate"><span class="pre">evecs</span></code> should start with the content of the <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> vectors,
followed by the <a class="reference internal" href="appendix.html#c.primme_params.initSize" title="primme_params.initSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">initSize</span></code></a> vectors.</p>
<p>On return, the i-th eigenvector starts at evecs[( <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + i)* <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a> ].
The first vector has index i=0.</p>
<p>All internal operations are performed at the same precision than <code class="docutils literal notranslate"><span class="pre">evecs</span></code> unless the user sets <a class="reference internal" href="appendix.html#c.primme_params.internalPrecision" title="primme_params.internalPrecision"><code class="xref c c-member docutils literal notranslate"><span class="pre">internalPrecision</span></code></a> otherwise.
The functions <a class="reference internal" href="#c.hsprimme" title="hsprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">hsprimme()</span></code></a> and <a class="reference internal" href="#c.ksprimme" title="ksprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">ksprimme()</span></code></a> perform all computations in half precision by default and report the eigenvalues and the residual norms in single precision. These functions may help in applications that may be not built with a compiler supporting half precision.</p>
<p>The type and precision of the callbacks is also the same as <cite>evecs</cite>. Although this can be changed. See details for <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.massMatrixMatvec" title="primme_params.massMatrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner" title="primme_params.applyPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal" title="primme_params.globalSumReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.broadcastReal" title="primme_params.broadcastReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">broadcastReal</span></code></a>, and <a class="reference internal" href="appendix.html#c.primme_params.convTestFun" title="primme_params.convTestFun"><code class="xref c c-member docutils literal notranslate"><span class="pre">convTestFun</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="magma-primme">
<h3><cite>magma_?primme</cite><a class="headerlink" href="#magma-primme" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.magma_hprimme">
int <code class="descname">magma_hprimme</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evecs</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_hprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_hsprimme">
int <code class="descname">magma_hsprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_hsprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_kprimme">
int <code class="descname">magma_kprimme</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_kprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_sprimme">
int <code class="descname">magma_sprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, float<em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_sprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_ksprimme">
int <code class="descname">magma_ksprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_ksprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_cprimme">
int <code class="descname">magma_cprimme</code><span class="sig-paren">(</span>float<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_cprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_dprimme">
int <code class="descname">magma_dprimme</code><span class="sig-paren">(</span>double<em>&nbsp;*evals</em>, double<em>&nbsp;*evecs</em>, double<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_dprimme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_zprimme">
int <code class="descname">magma_zprimme</code><span class="sig-paren">(</span>double<em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_DOUBLE" title="PRIMME_COMPLEX_DOUBLE">PRIMME_COMPLEX_DOUBLE</a><em>&nbsp;*evecs</em>, double<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_zprimme" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve a real symmetric/Hermitian standard or generalized eigenproblem.</p>
<p>Most of the computations are performed on GPU (see <a class="reference internal" href="#c.dprimme" title="dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">dprimme()</span></code></a> for using only the CPU).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>evals</strong> – CPU array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
computed eigenvalues; all processes in a parallel run return this local array with the same values.</li>
<li><strong>evecs</strong> – GPU array at least of size <a class="reference internal" href="appendix.html#c.primme_params.nLocal" title="primme_params.nLocal"><code class="xref c c-member docutils literal notranslate"><span class="pre">nLocal</span></code></a> times (<a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a>) with leading dimension <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a>
to store column-wise the (local part for this process of the) computed eigenvectors.</li>
<li><strong>resNorms</strong> – CPU array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
residual norms of the computed eigenpairs; all processes in parallel run return this local array with
the same values.</li>
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">error indicator; see <a class="reference internal" href="appendix.html#error-codes"><span class="std std-ref">Error Codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<p>On input, <code class="docutils literal notranslate"><span class="pre">evecs</span></code> should start with the content of the <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> vectors,
followed by the <a class="reference internal" href="appendix.html#c.primme_params.initSize" title="primme_params.initSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">initSize</span></code></a> vectors.</p>
<p>On return, the i-th eigenvector starts at evecs[( <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + i)* <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a> ].
The first vector has index i=0.</p>
<p>The type and precision of the callbacks depends on the type and precision of <cite>evecs</cite>. See details for <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.massMatrixMatvec" title="primme_params.massMatrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner" title="primme_params.applyPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal" title="primme_params.globalSumReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.broadcastReal" title="primme_params.broadcastReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">broadcastReal</span></code></a>, and <a class="reference internal" href="appendix.html#c.primme_params.convTestFun" title="primme_params.convTestFun"><code class="xref c c-member docutils literal notranslate"><span class="pre">convTestFun</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="primme-normal">
<h3>?primme_normal<a class="headerlink" href="#primme-normal" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.kprimme_normal">
int <code class="descname">kprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.kcprimme_normal">
int <code class="descname">kcprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.kcprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.cprimme_normal">
int <code class="descname">cprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.cprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.zprimme_normal">
int <code class="descname">zprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_DOUBLE" title="PRIMME_COMPLEX_DOUBLE">PRIMME_COMPLEX_DOUBLE</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_DOUBLE" title="PRIMME_COMPLEX_DOUBLE">PRIMME_COMPLEX_DOUBLE</a><em>&nbsp;*evecs</em>, double<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.zprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve a normal standard eigenproblem, which may not be Hermitian.</p>
<p>All arrays should be hosted on CPU. The computations are performed on CPU (see <a class="reference internal" href="#c.magma_zprimme_normal" title="magma_zprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">magma_zprimme_normal()</span></code></a> for using GPUs).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>evals</strong> – array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
computed eigenvalues; all processes in a parallel run return this local array with the same values.</li>
<li><strong>evecs</strong> – array at least of size <a class="reference internal" href="appendix.html#c.primme_params.nLocal" title="primme_params.nLocal"><code class="xref c c-member docutils literal notranslate"><span class="pre">nLocal</span></code></a> times (<a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a>) with leading dimension <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a>
to store column-wise the (local part for this process of the) computed eigenvectors.</li>
<li><strong>resNorms</strong> – array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
residual norms of the computed eigenpairs; all processes in parallel run return this local array with
the same values.</li>
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">error indicator; see <a class="reference internal" href="appendix.html#error-codes"><span class="std std-ref">Error Codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<p>On input, <code class="docutils literal notranslate"><span class="pre">evecs</span></code> should start with the content of the <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> vectors,
followed by the <a class="reference internal" href="appendix.html#c.primme_params.initSize" title="primme_params.initSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">initSize</span></code></a> vectors.</p>
<p>On return, the i-th eigenvector starts at evecs[( <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + i)* <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a> ].
The first vector has index i=0.</p>
<p>The type and precision of the callbacks depends on the type and precision of <cite>evecs</cite>. See details for <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.massMatrixMatvec" title="primme_params.massMatrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner" title="primme_params.applyPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal" title="primme_params.globalSumReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.broadcastReal" title="primme_params.broadcastReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">broadcastReal</span></code></a>, and <a class="reference internal" href="appendix.html#c.primme_params.convTestFun" title="primme_params.convTestFun"><code class="xref c c-member docutils literal notranslate"><span class="pre">convTestFun</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="magma-primme-normal">
<h3><cite>magma_?primme_normal</cite><a class="headerlink" href="#magma-primme-normal" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.magma_kprimme_normal">
int <code class="descname">magma_kprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, <a class="reference internal" href="appendix.html#c.PRIMME_HALF" title="PRIMME_HALF">PRIMME_HALF</a><em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_kprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_kcprimme_normal">
int <code class="descname">magma_kcprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_HALF" title="PRIMME_COMPLEX_HALF">PRIMME_COMPLEX_HALF</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_kcprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_cprimme_normal">
int <code class="descname">magma_cprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_FLOAT" title="PRIMME_COMPLEX_FLOAT">PRIMME_COMPLEX_FLOAT</a><em>&nbsp;*evecs</em>, float<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_cprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c.magma_zprimme_normal">
int <code class="descname">magma_zprimme_normal</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_DOUBLE" title="PRIMME_COMPLEX_DOUBLE">PRIMME_COMPLEX_DOUBLE</a><em>&nbsp;*evals</em>, <a class="reference internal" href="appendix.html#c.PRIMME_COMPLEX_DOUBLE" title="PRIMME_COMPLEX_DOUBLE">PRIMME_COMPLEX_DOUBLE</a><em>&nbsp;*evecs</em>, double<em>&nbsp;*resNorms</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.magma_zprimme_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve a normal standard eigenproblem, which may not be Hermitian.</p>
<p>Most of the computations are performed on GPU (see <a class="reference internal" href="#c.zprimme_normal" title="zprimme_normal"><code class="xref c c-func docutils literal notranslate"><span class="pre">zprimme_normal()</span></code></a> for using only the CPU).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>evals</strong> – CPU array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
computed eigenvalues; all processes in a parallel run return this local array with the same values.</li>
<li><strong>evecs</strong> – GPU array at least of size <a class="reference internal" href="appendix.html#c.primme_params.nLocal" title="primme_params.nLocal"><code class="xref c c-member docutils literal notranslate"><span class="pre">nLocal</span></code></a> times (<a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a>) with leading dimension <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a>
to store column-wise the (local part for this process of the) computed eigenvectors.</li>
<li><strong>resNorms</strong> – CPU array at least of size <a class="reference internal" href="appendix.html#c.primme_params.numEvals" title="primme_params.numEvals"><code class="xref c c-member docutils literal notranslate"><span class="pre">numEvals</span></code></a> to store the
residual norms of the computed eigenpairs; all processes in parallel run return this local array with
the same values.</li>
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">error indicator; see <a class="reference internal" href="appendix.html#error-codes"><span class="std std-ref">Error Codes</span></a>.</p>
</td>
</tr>
</tbody>
</table>
<p>On input, <code class="docutils literal notranslate"><span class="pre">evecs</span></code> should start with the content of the <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> vectors,
followed by the <a class="reference internal" href="appendix.html#c.primme_params.initSize" title="primme_params.initSize"><code class="xref c c-member docutils literal notranslate"><span class="pre">initSize</span></code></a> vectors.</p>
<p>On return, the i-th eigenvector starts at evecs[( <a class="reference internal" href="appendix.html#c.primme_params.numOrthoConst" title="primme_params.numOrthoConst"><code class="xref c c-member docutils literal notranslate"><span class="pre">numOrthoConst</span></code></a> + i)* <a class="reference internal" href="appendix.html#c.primme_params.ldevecs" title="primme_params.ldevecs"><code class="xref c c-member docutils literal notranslate"><span class="pre">ldevecs</span></code></a> ].
The first vector has index i=0.</p>
<p>The type and precision of the callbacks depends on the type and precision of <cite>evecs</cite>. See details for <a class="reference internal" href="appendix.html#c.primme_params.matrixMatvec" title="primme_params.matrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">matrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.massMatrixMatvec" title="primme_params.massMatrixMatvec"><code class="xref c c-member docutils literal notranslate"><span class="pre">massMatrixMatvec</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.applyPreconditioner" title="primme_params.applyPreconditioner"><code class="xref c c-member docutils literal notranslate"><span class="pre">applyPreconditioner</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.globalSumReal" title="primme_params.globalSumReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">globalSumReal</span></code></a>, <a class="reference internal" href="appendix.html#c.primme_params.broadcastReal" title="primme_params.broadcastReal"><code class="xref c c-member docutils literal notranslate"><span class="pre">broadcastReal</span></code></a>, and <a class="reference internal" href="appendix.html#c.primme_params.convTestFun" title="primme_params.convTestFun"><code class="xref c c-member docutils literal notranslate"><span class="pre">convTestFun</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="primme-initialize">
<h3>primme_initialize<a class="headerlink" href="#primme-initialize" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.primme_initialize">
void <code class="descname">primme_initialize</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.primme_initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a PRIMME parameters structure to the default values.</p>
<p>After calling <a class="reference internal" href="#c.dprimme" title="dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">dprimme()</span></code></a> (or a variant), call <a class="reference internal" href="#c.primme_free" title="primme_free"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_free()</span></code></a> to release allocated resources by PRIMME.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">primme_params</span> <span class="n">primme</span><span class="p">;</span>
<span class="n">primme_initialize</span><span class="p">(</span><span class="o">&amp;</span><span class="n">primme</span><span class="p">);</span>

<span class="n">primme</span><span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">...</span>
<span class="n">dprimme</span><span class="p">(</span><span class="n">evals</span><span class="p">,</span> <span class="n">evecs</span><span class="p">,</span> <span class="n">rnorms</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">primme</span><span class="p">);</span>
<span class="p">...</span>

<span class="n">primme_free</span><span class="p">(</span><span class="o">&amp;</span><span class="n">primme</span><span class="p">);</span>
</pre></div>
</div>
<p>See the alternative function <a class="reference internal" href="#c.primme_params_create" title="primme_params_create"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_params_create()</span></code></a> that also allocates the <cite>primme_params</cite> structure.</p>
</dd></dl>

</div>
<div class="section" id="primme-params-create">
<h3>primme_params_create<a class="headerlink" href="#primme-params-create" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.primme_params_create">
<a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a>* <code class="descname">primme_params_create</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="#c.primme_params_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate and initialize a parameters structure to the default values.</p>
<p>After calling <a class="reference internal" href="#c.dprimme" title="dprimme"><code class="xref c c-func docutils literal notranslate"><span class="pre">dprimme()</span></code></a> (or a variant), call <a class="reference internal" href="#c.primme_params_destroy" title="primme_params_destroy"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_params_destroy()</span></code></a> to release allocated resources by PRIMME.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">pointer to a parameters structure.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">primme_params</span> <span class="o">*</span><span class="n">primme</span> <span class="o">=</span> <span class="n">primme_params_create</span><span class="p">();</span>

<span class="n">primme</span><span class="o">-&gt;</span><span class="n">n</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">...</span>
<span class="n">dprimme</span><span class="p">(</span><span class="n">evals</span><span class="p">,</span> <span class="n">evecs</span><span class="p">,</span> <span class="n">rnorms</span><span class="p">,</span> <span class="n">primme</span><span class="p">);</span>
<span class="p">...</span>

<span class="n">primme_params_destroy</span><span class="p">(</span><span class="n">primme</span><span class="p">);</span>
</pre></div>
</div>
<p>See the alternative function <a class="reference internal" href="#c.primme_initialize" title="primme_initialize"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_initialize()</span></code></a> that only initializes the structure.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="primme-set-method">
<h3>primme_set_method<a class="headerlink" href="#primme-set-method" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.primme_set_method">
int <code class="descname">primme_set_method</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.primme_preset_method" title="primme_preset_method">primme_preset_method</a><em>&nbsp;method</em>, <a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.primme_set_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Set PRIMME parameters to one of the preset configurations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>method</strong> – <p>preset configuration; one of</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_DYNAMIC" title="primme_preset_method.PRIMME_DYNAMIC"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_DYNAMIC</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_DEFAULT_MIN_TIME" title="primme_preset_method.PRIMME_DEFAULT_MIN_TIME"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_DEFAULT_MIN_TIME</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_DEFAULT_MIN_MATVECS" title="primme_preset_method.PRIMME_DEFAULT_MIN_MATVECS"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_DEFAULT_MIN_MATVECS</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_Arnoldi" title="primme_preset_method.PRIMME_Arnoldi"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_Arnoldi</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_GD" title="primme_preset_method.PRIMME_GD"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_GD</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_GD_plusK" title="primme_preset_method.PRIMME_GD_plusK"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_GD_plusK</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_GD_Olsen_plusK" title="primme_preset_method.PRIMME_GD_Olsen_plusK"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_GD_Olsen_plusK</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_JD_Olsen_plusK" title="primme_preset_method.PRIMME_JD_Olsen_plusK"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_JD_Olsen_plusK</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_RQI" title="primme_preset_method.PRIMME_RQI"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_RQI</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_JDQR" title="primme_preset_method.PRIMME_JDQR"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_JDQR</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_JDQMR" title="primme_preset_method.PRIMME_JDQMR"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_JDQMR</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_JDQMR_ETol" title="primme_preset_method.PRIMME_JDQMR_ETol"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_JDQMR_ETol</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_STEEPEST_DESCENT" title="primme_preset_method.PRIMME_STEEPEST_DESCENT"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_STEEPEST_DESCENT</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_LOBPCG_OrthoBasis" title="primme_preset_method.PRIMME_LOBPCG_OrthoBasis"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_LOBPCG_OrthoBasis</span></code></a></div>
<div class="line"><a class="reference internal" href="appendix.html#c.primme_preset_method.PRIMME_LOBPCG_OrthoBasis_Window" title="primme_preset_method.PRIMME_LOBPCG_OrthoBasis_Window"><code class="xref c c-member docutils literal notranslate"><span class="pre">PRIMME_LOBPCG_OrthoBasis_Window</span></code></a></div>
</div>
</li>
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>See also <a class="reference internal" href="appendix.html#methods"><span class="std std-ref">Preset Methods</span></a>.</p>
</dd></dl>

</div>
<div class="section" id="primme-display-params">
<h3>primme_display_params<a class="headerlink" href="#primme-display-params" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.primme_display_params">
void <code class="descname">primme_display_params</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.primme_display_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Display all printable settings of <code class="docutils literal notranslate"><span class="pre">primme</span></code> into the file descriptor <a class="reference internal" href="appendix.html#c.primme_params.outputFile" title="primme_params.outputFile"><code class="xref c c-member docutils literal notranslate"><span class="pre">outputFile</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="primme-free">
<h3>primme_free<a class="headerlink" href="#primme-free" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.primme_free">
void <code class="descname">primme_free</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.primme_free" title="Permalink to this definition">¶</a></dt>
<dd><p>Free memory allocated by PRIMME.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="primme-params-destroy">
<h3>primme_params_destroy<a class="headerlink" href="#primme-params-destroy" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="c.primme_params_destroy">
int <code class="descname">primme_params_destroy</code><span class="sig-paren">(</span><a class="reference internal" href="appendix.html#c.primme_params" title="primme_params">primme_params</a><em>&nbsp;*primme</em><span class="sig-paren">)</span><a class="headerlink" href="#c.primme_params_destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>Free memory allocated by PRIMME associated to a parameters structure created
with <a class="reference internal" href="#c.primme_params_create" title="primme_params_create"><code class="xref c c-func docutils literal notranslate"><span class="pre">primme_params_create()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>primme</strong> – parameters structure.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">nonzero value if the call is not successful.</p>
</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 3.0.</span></p>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="primmef77.html" class="btn btn-neutral float-right" title="FORTRAN 77 Library Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apieigs.html" class="btn btn-neutral float-left" title="Eigenvalue Problems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, College of William &amp; Mary

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>